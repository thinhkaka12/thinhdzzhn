<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D√†nh t·∫∑ng em üíñ</title>
    <style>
        /* --- C√†i ƒë·∫∑t chung & Font ch·ªØ --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%);
            overflow: hidden;
            position: relative;
        }

        /* --- L·ªõp ph·ªß b·∫Øt ƒë·∫ßu --- */
        #start-overlay {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(252, 231, 243, 0.8); backdrop-filter: blur(10px);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            z-index: 200; cursor: pointer; color: #4a2c3a; text-align: center;
            transition: opacity 0.8s ease-out;
        }
        #start-overlay.hidden { opacity: 0; pointer-events: none; }
        .overlay-text { font-size: 2em; font-weight: 600; animation: pulse 2.5s infinite ease-in-out; }
        .overlay-subtext { margin-top: 15px; font-size: 1.1em; color: #613e4c; }

        /* --- N·ªÅn Tr√°i Tim Bay --- */
        .hearts-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
        .floating-heart {
            position: absolute; font-size: 22px; color: rgba(236, 72, 153, 0.5);
            animation: float 8s infinite ease-in-out;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(180deg); opacity: 0.8; }
        }

        /* --- Khung ch√≠nh & C√°c b∆∞·ªõc --- */
        .container { text-align: center; z-index: 10; max-width: 600px; padding: 20px; }
        .step { display: none; animation: fadeIn 0.8s ease-out; }
        .step.active { display: block; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Giao di·ªán c√¢u h·ªèi --- */
        .quiz-container {
            background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px);
            padding: 30px; border-radius: 24px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .question { font-size: 1.5em; color: #4a2c3a; font-weight: 600; margin-bottom: 30px; }
        .answers { display: grid; grid-template-columns: 1fr; gap: 15px; }
        .answer-btn {
            background: linear-gradient(45deg, #f9a8d4, #f472b6);
            border: none; padding: 18px 25px; border-radius: 50px;
            color: #fff; font-size: 1.1em; font-weight: 600;
            cursor: pointer; transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(244, 114, 182, 0.3);
        }
        .answer-btn:hover:not(:disabled) { transform: scale(1.05); box-shadow: 0 8px 20px rgba(244, 114, 182, 0.4); }
        .answer-btn:disabled { cursor: not-allowed; }
        
        /* --- Hi·ªáu ·ª©ng tr·∫£ l·ªùi --- */
        .answer-btn.correct { background: linear-gradient(45deg, #4ade80, #22c55e); }
        .answer-btn.incorrect { background: linear-gradient(45deg, #f87171, #ef4444); animation: shake 0.5s ease; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-8px); }
            40%, 80% { transform: translateX(8px); }
        }

        /* --- Thanh ti·∫øn tr√¨nh --- */
        .progress-bar { width: 100%; height: 10px; background: rgba(0, 0, 0, 0.05); border-radius: 10px; margin: 25px 0; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #a78bfa, #8b5cf6); width: 0%; transition: width 0.8s ease-out; border-radius: 10px; }

        /* --- M√†n h√¨nh k·∫øt qu·∫£ --- */
        .final-message { font-size: 1.2em; line-height: 1.7; color: #4a2c3a;}
        .final-message h2 { font-size: 2em; margin-bottom: 15px; color: #8b5cf6; }
        .final-message p { margin-bottom: 20px; }
        .score { font-size: 1.3em; font-weight: bold; }

        /* --- Copyright --- */
        .footer { position: fixed; bottom: 15px; font-size: 0.85em; color: #8c7a82; z-index: 100; }

        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.03); } }
        @media (max-width: 768px) { .question { font-size: 1.3em; } .answer-btn { font-size: 1em; padding: 15px 20px; } }
    </style>
</head>
<body>
    
    <div id="start-overlay">
        <div>
            <div class="overlay-text">Th·ª≠ th√°ch c·ªßa Trthinh üíó</div>
            <p class="overlay-subtext">C√πng xem hai ta nh·ªõ v·ªÅ nhau nhi·ªÅu th·∫ø n√†o nh√©!</p>
        </div>
    </div>

    <audio id="backgroundMusic" loop>
        <source src="https://files.catbox.moe/8la6n1.mp3" type="audio/mpeg">
        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph√°t nh·∫°c.
    </audio>

    <div class="hearts-bg" id="heartsBackground"></div>

    <div class="container">
        <div class="step active" id="step0">
             <div class="quiz-container">
                <h2 style="font-size: 2.2em; color: #4a2c3a; margin-bottom: 20px;">Ch√†o em y√™u!</h2>
                <p style="font-size: 1.2em; line-height: 1.7; color: #613e4c;">Anh ƒë√£ t·∫°o m·ªôt b√†i tr·∫Øc nghi·ªám nh·ªè ƒë·ªÉ ch√∫ng ta c√πng nh√¨n l·∫°i nh·ªØng k·ª∑ ni·ªám. H√£y tr·∫£ l·ªùi c√°c c√¢u h·ªèi ƒë·ªÉ nh·∫≠n ƒë∆∞·ª£c b·∫•t ng·ªù cu·ªëi c√πng nh√©!</p>
                <button class="answer-btn" style="margin-top: 30px;" onclick="goToStep(1)">B·∫Øt ƒë·∫ßu th√¥i!</button>
            </div>
        </div>

        <div class="step" id="step1">
            <div class="quiz-container">
                <div class="progress-bar"><div class="progress-fill" id="progress1"></div></div>
                <p class="question">Em c√≥ nh·ªõ ng√†y k·ª∑ ni·ªám s·ª± ra ƒë·ªùi c·ªßa "ai ƒë√≥" kh√¥ng nh·ªâ? üòâ</p>
                <div class="answers">
                    <button class="answer-btn" onclick="checkAnswer(this, 1)">25/11/2010</button>
                    <button class="answer-btn" onclick="checkAnswer(this, 1)">12/05/2010</button>
                    <button class="answer-btn" data-correct="true" onclick="checkAnswer(this, 1)">25/12/2010</button>
                </div>
            </div>
        </div>
        
        <div class="step" id="step2">
             <div class="quiz-container">
                <div class="progress-bar"><div class="progress-fill" id="progress2" style="width: 20%;"></div></div>
                <p class="question">ƒêi·ªÅu anh mu·ªën nghe nh·∫•t t·ª´ em ngay l√∫c n√†y l√† g√¨? ‚ù§Ô∏è</p>
                <div class="answers">
                    <button class="answer-btn" onclick="checkAnswer(this, 2)">"Gh√©t anh l·∫Øm" (ch·∫Øc th·∫ø) üòÇ</button>
                    <button class="answer-btn" data-correct="true" onclick="checkAnswer(this, 2)">Dƒ© nhi√™n l√† em y√™u anh r·ªìi üíñ</button>
                    <button class="answer-btn" onclick="checkAnswer(this, 2)">ƒê·ªÉ em suy nghƒ© ƒë√£ nh√©... ü§î</button>
                </div>
            </div>
        </div>

        <div class="step" id="step3">
            <div class="quiz-container">
                <div class="progress-bar"><div class="progress-fill" id="progress3" style="width: 40%;"></div></div>
                <p class="question">Tr√°i tim em n√≥i r·∫±ng, v·ªã tr√≠ ƒë·∫∑c bi·ªát nh·∫•t ch·ªâ d√†nh cho...? </p>
                <div class="answers">
                    <button class="answer-btn" data-correct="true" onclick="checkAnswer(this, 3)">M·ªôt m√¨nh anh th√¥i ƒë√≥ ü•∞</button>
                    <button class="answer-btn" onclick="checkAnswer(this, 3)">M·ªôt "c√¢y ATM" ƒë√°ng tin c·∫≠y üòú</button>
                    <button class="answer-btn" onclick="checkAnswer(this, 3)">M·ªôt ng∆∞·ªùi b·∫°n th√¢n</button>
                </div>
            </div>
        </div>

        <div class="step" id="step4">
            <div class="quiz-container">
                <div class="progress-bar"><div class="progress-fill" id="progress4" style="width: 60%;"></div></div>
                <p class="question">Ai l√† ch√†ng trai may m·∫Øn nh·∫•t th·∫ø gian v√¨ c√≥ ƒë∆∞·ª£c em? üòä</p>
                <div class="answers">
                    <button class="answer-btn" onclick="checkAnswer(this, 4)">Tr·∫ßn Minh Qu√¢n</button>
                    <button class="answer-btn" data-correct="true" onclick="checkAnswer(this, 4)">Nguy·ªÖn Tr∆∞·ªùng Th·ªãnh</button>
                    <button class="answer-btn" onclick="checkAnswer(this, 4)">L√™ Ho√†ng Long</button>
                </div>
            </div>
        </div>

        <div class="step" id="step5">
            <div class="quiz-container">
                <div class="progress-bar"><div class="progress-fill" id="progress5" style="width: 80%;"></div></div>
                <p class="question">C√¢u h·ªèi cu·ªëi c√πng n√®... Cho anh th∆°m m√° m·ªôt c√°i ƒë∆∞·ª£c kh√¥ng? üòö</p>
                <div class="answers">
                    <button class="answer-btn" onclick="checkAnswer(this, 5)">M∆° ƒëi nha! üòú</button>
                    <button class="answer-btn" onclick="checkAnswer(this, 5)">ƒê·ªÉ xem th√°i ƒë·ªô c·ªßa anh ƒë√£... üòè</button>
                    <button class="answer-btn" data-correct="true" onclick="checkAnswer(this, 5)">D·∫° ƒë∆∞·ª£c... ch·ªù em m·ªôt x√≠u! ü•∞</button>
                </div>
            </div>
        </div>

        <div class="step" id="step6">
             <div class="quiz-container final-message">
                </div>
        </div>
    </div>
    
    <footer class="footer">¬© Tr∆∞·ªùng Th·ªãnh</footer>

<script>
    let currentStep = 0;
    let score = 0;
    const totalQuestions = 5; // ƒê√£ c·∫≠p nh·∫≠t th√†nh 5 c√¢u h·ªèi
    let firstTry = true;
    
    const music = document.getElementById('backgroundMusic');
    const startOverlay = document.getElementById('start-overlay');

    function goToStep(step) {
        if(document.getElementById(`step${currentStep}`)) {
            document.getElementById(`step${currentStep}`).classList.remove('active');
        }
        currentStep = step;
        if(document.getElementById(`step${currentStep}`)) {
            document.getElementById(`step${currentStep}`).classList.add('active');
        }
        firstTry = true;
    }

    function checkAnswer(button, questionNum) {
        const isCorrect = button.dataset.correct === 'true';
        const answerButtons = button.parentElement.children;

        for (let btn of answerButtons) {
            btn.disabled = true;
        }

        if (isCorrect) {
            button.classList.add('correct');
            playSoundEffect();
            if (firstTry) {
                score++;
            }
        } else {
            button.classList.add('incorrect');
            firstTry = false;
            for (let btn of answerButtons) {
                if (btn.dataset.correct === 'true') {
                    btn.classList.add('correct');
                    break;
                }
            }
        }
        
        document.getElementById(`progress${questionNum}`).style.width = (questionNum / totalQuestions) * 100 + '%';

        setTimeout(() => {
            if (currentStep < totalQuestions) {
                goToStep(currentStep + 1);
            } else {
                showResults();
            }
        }, 2000);
    }

    function showResults() {
        const finalMessageContainer = document.querySelector('#step6 .final-message'); // S·ª≠a th√†nh step6
        let messageHTML = '';

        if (score === totalQuestions) {
            messageHTML = `
                <h2>EM L√Ä TUY·ªÜT V·ªúI NH·∫§T!</h2>
                <p>Em tr·∫£ l·ªùi ƒë√∫ng h·∫øt r·ªìi! Em kh√¥ng ch·ªâ nh·ªõ m·ªçi th·ª© v·ªÅ anh m√† c√≤n lu√¥n d√†nh cho anh nh·ªØng ƒëi·ªÅu ng·ªçt ng√†o nh·∫•t. C·∫£m ∆°n em v√¨ t·∫•t c·∫£.</p>
                <p class="score">ƒêi·ªÉm tuy·ªát ƒë·ªëi: ${score}/${totalQuestions}</p>
            `;
        } else if (score >= 3) { // ƒêi·ªÅu ch·ªânh ng∆∞·ª°ng ƒëi·ªÉm
            messageHTML = `
                <h2>EM NH·ªö G·∫¶N H·∫æT R·ªíI!</h2>
                <p>Ch√∫ng ta ƒë√£ c√≥ r·∫•t nhi·ªÅu k·ª∑ ni·ªám ƒë·∫πp b√™n nhau ph·∫£i kh√¥ng? M·ªói c√¢u tr·∫£ l·ªùi c·ªßa em ƒë·ªÅu khi·∫øn anh c·∫£m th·∫•y r·∫•t h·∫°nh ph√∫c. C·∫£m ∆°n em.</p>
                <p class="score">ƒêi·ªÉm c·ªßa em: ${score}/${totalQuestions}</p>
            `;
        } else {
            messageHTML = `
                <h2>KH√îNG SAO C·∫¢ ƒê√ÇU EM!</h2>
                <p>ƒêi·ªÉm s·ªë kh√¥ng quan tr·ªçng, quan tr·ªçng l√† hi·ªán t·∫°i ch√∫ng ta v·∫´n ƒëang c√πng nhau t·∫°o n√™n nh·ªØng k·ª∑ ni·ªám m·ªõi tuy·ªát v·ªùi h∆°n m·ªói ng√†y. Y√™u em!</p>
                <p class="score">ƒêi·ªÉm c·ªßa em: ${score}/${totalQuestions}</p>
            `;
        }
        finalMessageContainer.innerHTML = messageHTML;
        goToStep(6); // S·ª≠a th√†nh step6
    }
    
    window.addEventListener('load', () => {
        createFloatingHearts();
        startOverlay.addEventListener('click', () => {
            startOverlay.classList.add('hidden');
            startMusic();
        }, { once: true });
    });

    function createFloatingHearts() {
        const heartsContainer = document.getElementById('heartsBackground');
        if(!heartsContainer) return;
        heartsContainer.innerHTML = '';
        const heartSymbols = ['üíï', 'üíñ', 'üíó', '‚ù§Ô∏è', 'üíù'];
        for (let i = 0; i < 20; i++) {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.textContent = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDelay = Math.random() * 8 + 's';
            heart.style.animationDuration = (Math.random() * 5 + 7) + 's';
            heartsContainer.appendChild(heart);
        }
    }
    function startMusic() {
        if (music.paused) {
            music.volume = 0.8;
            music.play().catch(e => console.error("L·ªói ph√°t nh·∫°c:", e));
        }
    }
    function playSoundEffect() {
        try {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            gainNode.gain.setValueAtTime(0, audioContext.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.1, audioContext.currentTime + 0.01);
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(880, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.00001, audioContext.currentTime + 0.2);
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.2);
        } catch (e) { console.log('Audio Context kh√¥ng ƒë∆∞·ª£c h·ªó tr·ª£.'); }
    }
</script>

</body>
</html>

                    
